---
import { Image } from 'astro:assets';
import LinkButton from './ui/LinkButton.astro';
import Logo from '@assets/images/global/se-logo.png';
import Modal from './ui/Modal.astro';


const { 
  title, 
  showCommunityBtn = true,
  showHomeBtn = false,
} = Astro.props;
---
<section class="flex justify-center p-4 md:p-0">
  <div class="container bg-white flex mx-5 sm:mx-10 p-4 md:p-8 rounded-lg max-w-l md:max-w-6xl shadow-lg lg:space-x-3 flex-col lg:flex-row">
    <div class="flex flex-col space-y-3 lg:w-2/3">
      <h1 class="text-se-dark text-2xl font-semibold">{title}</h1>
      <div class="text-se-muted space-y-3 text-m">
        <slot></slot>
      </div>
      <div class="pt-4 flex basis-full justify-center md:justify-start">
        <div class="flex gap-3 w-full md:w-fit flex-wrap lg:flex-nowrap justify-around lg:justify-start md:flex-row grow lg:grow-0 z-50">
          <div class="flex basis-full grow gap-3">
            {showHomeBtn && 
              <LinkButton icon="home" newTab={false} id="home" tooltipText="Go to Home Page" classes="grow"
                url="/"
              />
            }
            <Modal icon="calendar" title="European Tournament Calendar" classes="basis-[50%] shrink"
                buttonId="calendar" tooltipText="European Tournament Calendar"
                dialogClasses="w-9/12">
              <main slot="main" class="block w-full h-full">
                <div class="relative w-full h-full p-5 pt-0">
                  <iframe src="https://teamup.com/ksbsj1366v93kqovju?showLogo=0&showSearch=1&showProfileAndInfo=0&showSidepanel=1&showTitle=0&showMenu=1&showAgendaHeader=1&showAgendaDetails=0&showYearViewHeader=1" style="height: 70vh; width: 100%; overflow-x: hidden;" frameborder="0"></iframe>
                </div>
                
              </main>
            </Modal>
            {showCommunityBtn && 
              <LinkButton icon="community" newTab={false} id="community" tooltipText="European Smash Communities" classes="grow"
                url="/community"
              />
            }
          </div>
          
          <div class="flex gap-3 w-full flex-wrap md:flex-nowrap">
            <LinkButton icon="x" newTab={true} id="x" tooltipText="X" classes="grow"
            url="https://twitter.com/smasheurope"
            />
            <LinkButton icon="bs" newTab={true} id="bs" tooltipText="Bluesky" classes="grow"
            url="https://bsky.app/profile/smasheurope.com"
            />
            <LinkButton icon="fb" newTab={true} id="fb" tooltipText="Facebook" classes="grow"
              url="https://www.facebook.com/smasheurope/"
            />
            <LinkButton icon="twitch" newTab={true} id="twitch" tooltipText="Twitch" classes="grow"
              url="https://twitch.tv/smasheurope"
            />
            <LinkButton icon="yt" newTab={true} id="yt" tooltipText="YouTube" classes="grow"
              url="https://youtube.com/smasheurope"
            />
            <LinkButton icon="reddit" newTab={true} id="reddit" tooltipText="Reddit" classes="grow"
              url="https://www.reddit.com/r/smasheurope/"
            />
          </div>
        </div>
      </div>
    </div>  
    <div class="flex md:flex-1 order-first lg:order-last justify-center items-center mb-5 lg:mb-0">
      <Image src={Logo} alt="SmashEurope Logo" class="flex basis-0 lg:basis-full items-center py-2 object-scale-down"/>
    </div>
  </div>
</section>